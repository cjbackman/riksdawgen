sudo: required

branches:
  only:
  - adding-travis-config

jobs:
  include:
    - stage: test_api
      language: python
      python: "3.6"
      install: cd api && pip install -r requirements.txt
      script: python setup.py pytest

    - stage: test_front
      language: node_js
      node_js: stable
      install: cd front && npm install && npm run build
      script: npm run test

    - stage: deploy
      script: sh .travis/deploy_dockerhub.sh